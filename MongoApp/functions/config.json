[
    {
        "name": "Delete",
        "private": false,
        "run_as_user_id_script_source": "exports = async function(ownerId){\n  const ownersCollection = context.services.get(\"mongodb-atlas\").db(\"your-db-name\").collection(\"Owners\");\n  const landHoldingsCollection = context.services.get(\"mongodb-atlas\").db(\"your-db-name\").collection(\"LandHoldings\");\n\n  // Delete the owner\n  const result = await ownersCollection.deleteOne({ _id: BSON.ObjectId(ownerId) });\n  \n  // If the owner was deleted, delete related land holdings\n  if (result.deletedCount \u003e 0) {\n    await landHoldingsCollection.deleteMany({ ownerId: BSON.ObjectId(ownerId) });\n  }\n  \n  return result;\n};\n"
    },
    {
        "name": "Duplicate",
        "private": false,
        "disable_arg_logs": true
    }
]
